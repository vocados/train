var start="",loaded=!1;function callAjax(t,e){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&e(JSON.parse(a.responseText))},a.open("GET",t,!0),a.send()}function getLocation(t){var e="/timetable/"+encodeURI(start+" 에서 "+t+" 가는 기차 시간표")+"/";location.href=e}function detail(t){callAjax("/json/"+t+".json",function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];e.push('<a href="javascript:;" onclick="detail2(\''+n+'\');" class="list-group-item list-group-item-action">'+n+"</a>")}document.getElementById("detail").innerHTML=e.join("")})}function loadScript(t,e){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,e&&"function"==typeof e&&e())}:a.onload=function(){e&&"function"==typeof e&&e()},a.src=t,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}function detail2(t){start=t,loaded||(document.getElementById("master").innerHTML=document.getElementById("detail").innerHTML,loaded=!0),callAjax("/json/"+encodeURI(t)+".json",function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];e.push('<a href="javascript:;" onclick="getLocation(\''+n+'\');" class="list-group-item list-group-item-action">'+n+"</a>")}document.getElementById("detail").innerHTML=e.join("")})}loadScript("https://code.jquery.com/jquery-3.6.0.min.js",function(){$(document).ready(function(){callAjax("/json/newMaster.json",function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];e.push('<a href="javascript:;" onclick="detail(\''+n+'\');" class="list-group-item list-group-item-action">'+n+"</a>")}document.getElementById("master").innerHTML=e.join("")})})});
