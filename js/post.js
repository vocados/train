var start="",loaded=!1;function callAjax(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(JSON.parse(n.responseText))},n.open("GET",e,!0),n.send()}function getLocation(e){e="/timetable/"+encodeURI(start+" 에서 "+e+" 가는 기차 시간표")+"/";location.href=e}function detail(e){callAjax("/json/"+e+".json",function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push('<a href="javascript:;" onclick="detail2(\''+a+'\');" class="list-group-item list-group-item-action">'+a+"</a>")}document.getElementById("detail").innerHTML=t.join("")})}function loadScript(e,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,t&&"function"==typeof t&&t())}:n.onload=function(){t&&"function"==typeof t&&t()},n.src=e,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(n)}function detail2(e){start=e,loaded||(document.getElementById("master").innerHTML=document.getElementById("detail").innerHTML,loaded=!0),callAjax("/json/"+encodeURI(e)+".json",function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push('<a href="javascript:;" onclick="getLocation(\''+a+'\');" class="list-group-item list-group-item-action">'+a+"</a>")}document.getElementById("detail").innerHTML=t.join("")})}loadScript("https://code.jquery.com/jquery-3.6.0.min.js",function(){$(document).ready(function(){var e=document.getElementById("modal");e.addEventListener("show.bs.modal",function(e){callAjax("/json/newMaster.json",function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push('<a href="javascript:;" onclick="detail(\''+a+'\');" class="list-group-item list-group-item-action">'+a+"</a>")}document.getElementById("master").innerHTML=t.join("")})}),e.addEventListener("shown.bs.modal",function(e){}),e.addEventListener("hide.bs.modal",function(e){}),e.addEventListener("hidden.bs.modal",function(e){})})});
